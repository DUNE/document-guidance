% This holds definitions of macros to enforce consistency in names.

% This file is the sole location for such definitions.  Check here to
% learn what there is and add new ones only here.  

% also see units.tex for units.  Units can be used here.

%%% Common terms

% Check here first, don't reinvent existing ones, add any novel ones.
% Use \xspace.

%%%%% Anne adding macros for referencing TDR volumes and annexes Apr 20, 2015 %%%%%
\def\expshort{DUNE\xspace}
\def\dune{\expshort}
\def\explong{The Deep Underground Neutrino Experiment\xspace}

%\def\thedocsubtitle{LBNF/DUNE Technical Design Report (DRAFT)}
\def\thedocsubtitle{Deep Underground Neutrino Experiment (DUNE)} 
%\def\tdrtitle{Technical Proposal}
\def\tdrtitle{DRAFT Technical Design Report}


% All volume titles and numbers in one place.
\def\voltitleexec{Executive Summary\xspace}
\def\volnumberexec{1}

\def\voltitlephysics{DUNE Physics\xspace}
\def\volnumberphysics{2}

\def\voltitlesp{Single-Phase Far Detector Module\xspace}
\def\volnumbersp{3}

\def\voltitledp{Dual-Phase Far Detector Module\xspace}
\def\volnumberdp{4}

\def\voltitletc{Technical Coordination\xspace}
\def\volnumbertc{5}

\def\voltitlend{Near Detector\xspace} % not part of TDR, a chapter goes in Exec Summ
\def\volnumbernd{6}

\def\voltitleswc{Software and Computing\xspace} % not part of TDR, a chapter goes in Exec Summ
\def\volnumberswc{7}

% see~\refsec{exec}{2.3}
\newcommand{\refsec}[2]{Volume~\csname volnumber#1\endcsname \xspace Section~#2}
% see~\refch{exec}{2}
\newcommand{\refch}[2]{Volume~\csname volnumber#1\endcsname \xspace Chapter~#2}
% see Table~\refinch{exec}{1.2}
\newcommand{\refinch}[2]{#2 in Volume~\csname volnumber#1\endcsname \xspace}

\newcommand{\bigo}[1]{\ensuremath{\mathcal{O}(#1)}}


% Things about oscillation
%
\newcommand{\numu}{\ensuremath{\nu_\mu}\xspace}
\newcommand{\nue}{\ensuremath{\nu_e}\xspace}
\newcommand{\nutau}{\ensuremath{\nu_\tau}\xspace}

\newcommand{\anumu}{\ensuremath{\bar\nu_\mu}\xspace}
\newcommand{\anue}{\ensuremath{\bar\nu_e}\xspace}
\newcommand{\anutau}{\ensuremath{\bar\nu_\tau}\xspace}

\newcommand{\dm}[1]{\ensuremath{\Delta m^2_{#1}}\xspace} % example: \dm{12}

\newcommand{\sinst}[1]{\ensuremath{\sin^2\theta_{#1}}\xspace} % example \sinst{12}
\newcommand{\sinstt}[1]{\ensuremath{\sin^22\theta_{#1}}\xspace}  % example \sinstt{12}

\newcommand{\deltacp}{\ensuremath{\delta_{\rm CP}}\xspace}   % example \deltacp
\newcommand{\mdeltacp}{\ensuremath{\delta_{\rm CP}}}   %%%%%%%%%%  <--- missing something; what's the m for?

\newcommand{\nuxtonux}[2]{\ensuremath{\nu_{#1} \to \nu_{#2}}\xspace}  % example \nuxtonux23 (no {...} )
\newcommand{\numutonumu}{\nuxtonux{\mu}{\mu}}
\newcommand{\numutonue}{\nuxtonux{\mu}{e}}
% Add chi sqd MH?  avg delta chi sqd?

% atmospheric neutrinos and PDK
\newcommand{\ptoknubar}{\ensuremath{\rightarrow K^+ \overline{\nu}}\xspace}
\newcommand{\ptoepizero}{\ensuremath{p^+ \rightarrow e^+ \pi^0}\xspace}



% Isotopes - stay here
\def\argon40{${}^{40}$Ar}       
\def\Ar39{$^{39}$Ar}
\def\Cl40{$^{40}$Cl}
\def\K40{$^{40}$K}
\def\B8{$^{8}$B}
\newcommand\isotope[2]{\textsuperscript{#2}#1} % use as, e.g.,: \isotope{Si}{28}

% Parameters common to SP DP
\def\ndfromtarget{\SI{574}{\meter}\xspace} % ND from target
\def\fdfiducialmass{\SI{40}{\kt}\xspace}
\def\driftvelocity{\SI{1.6}{\milli\meter/\micro\second}\xspace} % same for sp and dp?
\def\lartemp{\SI{88}\,K\xspace}
\def\larmass{\SI{17.5}{\kt}\xspace} % full mass in cryostat
\def\cryostatht{\SI{17.8}{\meter}\xspace} % outer height of cryostat (Jim Stewart 5/2/19)
\def\cryostatlen{\SI{65.8}{\meter}\xspace} % length of cryostat (Jim Stewart 5/2/19)
\def\cryostatwdth{\SI{18.9}{\meter}\xspace} % width of cryostat (Jim Stewart 5/2/19)
\def\nominalmodsize{\SI{10}{kt}\xspace} % nominal module size 10 kt
\def\dunelifetime{\SI{20}{years}\xspace} % nominal operational life time of DUNE experiment
\def\pipiibeampower{\SI{1.2}{MW}\xspace} 
\def\cooldown{cool-down\xspace} % standardize w/ or w/o space or hyphen

% Parameters SP
\def\spmaxfield{\SI{500}{\volt/\centi\meter}\xspace} % SPfield strength
\def\spactivelarmass{\SI{10}{\kt}\xspace} % active mass in cryostat
\def\spmaxdrift{\SI{3.52}{\m}\xspace}
\def\tpcheight{\SI{12.01}{\meter}\xspace} % height of SP TPC, APA, CPA and of DP TPC
\def\sptpclen{\SI{58.17}{\meter}\xspace} % length of SP TPC, APA, CPA
\def\apacpapitch{\SI{2.32}{\meter}\xspace} % pitch of SP CPAs and APAs
\def\spfcmodlen{\SI{3.5}{\m}} % length of SP FC module
\def\spnumch{\num{384000}\xspace} % total number of APA readout channels 
\def\spnumpdch{\num{6000}\xspace} % total number of PD readout channels 
\def\planespace{\SI{4.75}{\milli\meter}\xspace}
\def\sptargetdriftvoltpos{\SI{180}{kV}\xspace} % target drift voltage - positive
\def\coldbox{cold box\xspace} % standardize w/ or w/o space or hyphen
\def\Coldbox{Cold box\xspace} % standardize w/ or w/o space or hyphen
\def\endwall{end wall\xspace} % standardize w/ or w/o space

% Parameters DP
\def\dpactivelarmass{\SI{12.096}{\kt}\xspace} % active mass in cryostat
\def\dpfidlarmass{\SI{10.643}{\kt}\xspace} % fiducial mass in cryostat
\def\dpmaxdrift{\SI{12}{\m}\xspace} % max drift length
\def\dptpclen{\SI{60}{\meter}\xspace} % length of TPC
\def\dptpcwdth{\SI{12}{\meter}\xspace} % width of TPC
\def\dpswchpercrp{\num{36}\xspace} % number of anode/lem sandwiches per CRP 
\def\dpnumswch{\num{2880}\xspace} % total number of anode sandwiches in module
\def\dptotcrp{\num{80}\xspace} % total number of CRPs in module
\def\dpchpercrp{\num{1920}\xspace} %  channels per CRP
\def\dpnumcrpch{\num{153600}\xspace} % total number of CRP channels in module
\def\dpchperchimney{\num{640}\xspace} %  channels per chimney  --CRP channels?
\def\dpnumpmtch{\num{720}\xspace} % number of PMT channels
\def\dpstrippitch{\SI{3.125}{\milli\meter}\xspace} % pitch of anode strips
\def\dpnumfcmod{\num{244}\xspace} % number of FC modules
\def\dpnumfcres{\num{240}\xspace} % number of FC resistors
\def\dpnumfcrings{\num{60}\xspace} % number of FC rings
\def\dpnominaldriftfield{\SI{500}{\volt/\cm}\xspace} % nominal drift voltage per cm
\def\dptargetdriftvoltpos{\SI{600}{\kV}\xspace} % target drift voltage - positive
\def\dptargetdriftvoltneg{\SI{-600}{\kV}\xspace} % target drift voltage - negative

% Nominal readout window time
%% SP has 2.25ms drift time.  The readout is 2*dt + 20%*dt extra.
\def\spreadout{\SI{5.4}{\ms}\xspace}
%% DP has 7.5 ms drift time.  The same (over generous) rule gives 16.5ms
\def\dpreadout{\SI{16.5}{\ms}\xspace}
% Supernova Neutrino Burst buffer and readout window time
\def\snbtime{\SI{100}{\s}\xspace}
% interesting amount of time we might have SNB neutrinos but not yet
% enough to trigger.
\def\snbpretime{\SI{10}{\s}\xspace}
% SP SNB dump size. MUST KEEP THIS MANUALLY IN SYNC 1.5 TB/s * \snbtime
\def\spsnbsize{\SI{45}{\TB}\xspace}

% keep these three numerically in sync
\def\offsitepbpy{\SI{30}{\PB/\year}\xspace}
\def\offsitegbyteps{\SI{1}{\GB/\s}\xspace}
\def\offsitegbps{\SI{8}{\Gbps}\xspace}
\def\surffnalbw{\SI{100}{\Gbps}\xspace}



% New from Anne March/April 2018
%physics terms
\newcommand{\efield}{E field\xspace}
\newcommand{\Lbl}{Long-baseline\xspace}
\newcommand{\rms}{RMS\xspace} % Might want this small caps?
\newcommand{\threed}{3D\xspace}
\newcommand{\twod}{2D\xspace}



% Top-level requirements and specifications
% 1 Minimum drift field
\def\mindriftfield{\SI{250}{\volt/\cm}\xspace}
\def\mindriftfieldgoal{\SI{500}{\volt/\cm}\xspace}
% 2 FE elec noise
\def\elecnoisefe{ \num{1000} enc\xspace}
% 3 light yield
\def\lightyield{\SI{0.5}{pe/\MeV}\xspace}
\def\lightyieldgoal{\SI{5}{pe/\MeV}\xspace}
% 4 time resolution
\def\timeres{\SI{1}{\micro/\second}\xspace}
\def\timeresgoal{\SI{100}{ns}\xspace}
% 5 LAr purity
\def\larpurity{\SI{100}{ppt}\xspace}
\def\larpuritygoal{\SI{30}{ppt}\xspace}
% 6 APA gaps
\def\apagapsame{\SI{15}{\milli\m}\xspace}
\def\apagapdiff{\SI{30}{\milli\m}\xspace}
% 7 drift field uniformity (from component positioning)
\def\fielduniformity{\SI{1}{\%}\xspace}
% 8a APA collection wire angle
\def\apacollwireangle{$\SI{0}{^\circ}$\xspace}
% 8b APA induction wire angle
\def\apainducwireangle{$\pm\SI{35.7}{^\circ}$\xspace}
% 9a APA wire pitch - U,V
\def\uvpitch{\SI{4.669}{\milli\meter}\xspace}
% 9b APA wire pitch - X, G
\def\xgpitch{\SI{4.790}{\milli\meter}\xspace}
% 10 APA wire position tolerance
\def\wirepitchtol{$\pm$\SI{0.5}{\milli\meter}\xspace}
% 11 drift field uniformity (from HVS)
\def\fielduniformityhv{\SI{1}{\%}\xspace}
% 12 HV PS ripple contrib to noise
\def\hvripplenoise{\SI{100}{enc}\xspace}
% 13 FE peaking time
\def\fepeaktime{\SI{1}{\micro\second}\xspace}
% 14 signal saturation level (SP)
\def\spsignalsat{\num{500000} electrons\xspace}
% 15 LAr N contamination
\def\nitrogencontam{\SI{25}{ppm}\xspace}
% 16 detector dead time
\def\deadtime{\SI{0.5}{\%}\xspace}
% Engineering
% 17 Cathode resistivity
\def\cathodemegohm{\SI{1}{\mega\ohm/square}\xspace}
\def\cathodegigohm{\SI{1}{\giga\ohm/square}\xspace}
% 
%\def\{\xspace}
% 19 ADC sampling frequency
\def\samplingfreq{\SI{2}{\mega\hertz}\xspace}
% 20 ADC dynamic range
\def\adcdynrange{\num{12} bits}  %{3000}:\num{1}\xspace}
\def\adcdynrangegoal{\num{13} bits} %{4070}:\num{1}\xspace}
% 21 CE power consumption (SP)
\def\cepower{\SI{50}{mW/channel}\xspace}
% 22 data to tape
\def\dataratetotape{\SI{30}{PB/year}\xspace}
% 23 SNB trigger
\def\snbtriggereff{90\% efficiency\xspace}
%\def\snbtriggervisenergy{90\% efficiency \xspace}
% 24 local E fields
\def\localefield{\SI{30}{\kV/\cm}\xspace}
% 25 non-FE noise contributions
\def\elecnoisenonfe{$\ll$ \SI{1000}{enc}\xspace}
% 26 impurity contrib from components
\def\larpuritycomps{$\ll$ \SI{30}{ppt}\xspace}
% 28 dead channels
\def\deadchannels{\SI{1}{\%}\xspace}

\newcommand{\fdth}{feedthrough\xspace} % ok not in gloss
\newcommand{\phel}{photoelectron\xspace} % ok not in gloss
\newcommand{\frfour}{FR-4\xspace} % used in gloss and sp hv chap


% The following from phys ch-bsm 1/3/19 (was in their cls file)
\newcommand{\lsim}{{\;\raise0.3ex\hbox{$<$\kern-0.75em\raise-1.1ex\hbox{$\sim$}}\;}}
\newcommand{\gsim}{{\;\raise0.3ex\hbox{$>$\kern-0.75em\raise-1.1ex\hbox{$\sim$}}\;}}
\newcommand{\beq}{\begin{equation}}
\newcommand{\eeq}{\end{equation}}
\newcommand{\bea}{\begin{eqnarray}}
\newcommand{\eea}{\end{eqnarray}}
\newcommand{\DF}{\Delta_{4}}
\mathchardef\minus="002D
\newcommand{\dk}[1]{\textcolor{red}{#1}}
\newcommand{\dkc}[1]{\textbf{\textcolor{red}{(#1 --DK)}}}
\newcommand{\dd}[1]{\textcolor{blue}{#1}}

%Milestones (from Eric's talk Mar 12, 2019} https://indico.fnal.gov/event/20149/contribution/0/material/slides/1.pdf
\newcommand{\startpduneiispinstall}{March 2021\xspace}% Start of ProtoDUNE-II (SP) Installation: March 2021
\newcommand{\startpduneiidpinstall}{March 2022\xspace}%Start of ProtoDUNE-II (DP) Installation: March 2022
\newcommand{\sdlwavailable}{April 2022\xspace}%South Dakota Logistics Warehouse Available: April 2022
\newcommand{\cucbenocc}{October 2022\xspace}% Beneficial Occupancy of Cavern 1/CUC: October 2022
\newcommand{\accesscuccountrm}{April  2023\xspace}% CUC Counting Room Accessible: April 2023
\newcommand{\accesstopfirstcryo}{January 2024\xspace}%Top of Far Detector #1 Cryostat Accessible: January 2024
\newcommand{\startfirsttpcinstall}{August 2024\xspace}%Start of Far Detector #1 TPC Installation: August 2024
\newcommand{\firsttpcinstallend}{May 2025\xspace}% End of Far Detector #1 TPC Installation: May 2025
\newcommand{\accesstopsecondcryo}{January 2025\xspace}%Top of Far Detector #2 Accessible: January 2025
\newcommand{\startsecondtpcinstall}{August 2025\xspace}%Start of Far Detector #2 TPC Installation: August 2025
\newcommand{\secondtpcinstallend}{May 2026\xspace}%End of Far Detector #2 TPC Installation: May 2026

%Mike Kordosky: the command below is used to refer to
% planned entries in the requirements table.
\newcommand{\rrt}[1]{\ifthenelse{\equal{#1}{}}{[RT:TBD]}{[RT:#1]}}

%%%%%%% Everything below here is DEPRECATED (4/30/19 AH) %%%%%%%%%%

% Names of expts or detectors -- all these go into glossary DEPRECATED
% in use
\newcommand{\cherenkov}{Cherenkov\xspace}  %nonaccel
\newcommand{\kamland}{KamLAND\xspace} %cisc dp
\newcommand{\superk}{Super--Kamiokande\xspace} %nonaccel, bsm
\newcommand{\hyperk}{Hyper--Kamiokande\xspace} %nonaccel
\newcommand{\microboone}{MicroBooNE\xspace} %used in cisc sp, hv, daq
\newcommand{\minerva}{MINER$\nu$A\xspace} %tools/meth, nuosc11
\newcommand{\nova}{NO$\nu$A\xspace} %lots
\newcommand{\lariat}{LArIAT\xspace} % calib,dppds
\newcommand{\argoneut}{ArgoNeuT\xspace} %nonaccel
%not in use
\newcommand{\kkande}{Kamiokande\xspace}  
\newcommand{\miniboone}{MiniBooNE\xspace}
\newcommand{\numi}{NuMI\xspace}
\newcommand{\larnd}{LAr ND\xspace}

% usage not checked for the rest 4/30/19
% Random -- all these go into glossary DEPRECATED
\newcommand{\lartpc}{LArTPC\xspace}
\newcommand{\globes}{GLoBES\xspace}
\newcommand{\larsoft}{LArSoft\xspace}
\newcommand{\snowglobes}{SNOwGLoBES\xspace}
\newcommand{\docdb}{DUNE DocDB\xspace}
\newcommand{\lbl}{long-baseline\xspace} %DEPRECATED

% also have in glossary; Glossary also has CERN, PSL, other big labs, etc. DEPRECATED
\newcommand{\fnal}{Fermilab\xspace} 
\newcommand{\surf}{SURF\xspace} 
\newcommand{\bnl}{BNL\xspace}
\newcommand{\anl}{ANL\xspace}
 
 %detectors and modules
% also have in glossary; THE FOLLOWING NINE TERMS ARE DEPRECATED 4/30/19
\newcommand{\detmodule}{detector module\xspace}
\newcommand{\dual}{DP\xspace}
\newcommand{\Dual}{DP\xspace}
\newcommand{\single}{SP\xspace}
\newcommand{\Single}{SP\xspace}
\newcommand{\dpmod}{DP detector module\xspace}
\newcommand{\spmod}{SP detector module\xspace}
\newcommand{\lar}{LAr\xspace}
\newcommand{\lntwo}{LN$_2$\xspace}  %used in sp-tpcelec 

%detector components SP and DP -- need to be in gloss; THESE 14 ITEMS DEPRECATED:
\newcommand{\dss}{DSS\xspace}
\newcommand{\hv}{high voltage\xspace}
\newcommand{\fcage}{field cage\xspace}
\newcommand{\fc}{FC\xspace}
\newcommand{\fcmod}{FC module\xspace}  %%%   don't need?
\newcommand{\topfc}{top FC\xspace}
\newcommand{\botfc}{bottom FC\xspace}
\newcommand{\ewfc}{endwall FC\xspace}
\newcommand{\pdsys}{PD system\xspace}
\newcommand{\phdet}{photon detector\xspace}
\newcommand{\sipm}{SiPM\xspace}
\newcommand{\pmt}{PMT\xspace}
\newcommand{\pwrsupp}{power supply\xspace}
\newcommand{\pwrsupps}{power supplies\xspace}